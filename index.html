<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>aemetools - Improve ecosystem modelling â€¢ aemetools</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="aemetools - Improve ecosystem modelling">
<meta name="description" content="Calibrate the AEME model ensemble, download ERA5-Land data for any point in New Zealand, and run simple hydrological models to generate inflow inputs for the AEME model ensemble.">
<meta property="og:description" content="Calibrate the AEME model ensemble, download ERA5-Land data for any point in New Zealand, and run simple hydrological models to generate inflow inputs for the AEME model ensemble.">
<meta property="og:image" content="https://limnotrack.github.io/aemetools/logo.png">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">aemetools</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="articles/access-geospatial.html">Access geospatial data</a></li>
    <li><a class="dropdown-item" href="articles/calibrate-aeme.html">Calibrate AEME</a></li>
    <li><a class="dropdown-item" href="articles/download-era5.html">Download ERA5 data</a></li>
    <li><a class="dropdown-item" href="articles/run-gr4j.html">Run Hydrological models</a></li>
    <li><a class="dropdown-item" href="articles/sensitivity-analysis.html">Sensitivity Analysis</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/limnotrack/aemetools/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header">
<img src="logo.png" class="logo" alt=""><h1 id="aemetools-">aemetools 
<a class="anchor" aria-label="anchor" href="#aemetools-"></a>
</h1>
</div>
<!-- badges: start -->

<!-- badges: end -->
<p>aemetools is designed to work with <a href="https://github.com/limnotrack/AEME/" class="external-link">AEME</a>. It contains a range of functions to assist in setting up simulations for a lake site.</p>
<div class="section level2">
<h2 id="development">Development<a class="anchor" aria-label="anchor" href="#development"></a>
</h2>
<p>This package was developed by <a href="http://limnotrack.com/" class="external-link">LimnoTrack</a> as part of the <a href="https://limnotrack.shinyapps.io/LERNZmp/" class="external-link">Lake Ecosystem Research New Zealand Modelling Platform</a> (LERNZmp) project. <a href="http://limnotrack.com/" class="external-link"><img src="reference/figures/limnotrack_border.jpg" alt="LimnoTrack website" align="right" height="80"></a></p>
</div>
<div class="section level2">
<h2 id="overview">Overview<a class="anchor" aria-label="anchor" href="#overview"></a>
</h2>
<p>Currently, this package can be used to:</p>
<ul>
<li>Download meteorological data from <a href="https://www.ecmwf.int/en/era5-land" class="external-link">ERA5-Land</a> for any point in New Zealand from 1980-2023, or download ERA5-Land GRIB files for any area in the world.</li>
<li>Set up and run hydrological simulations using the suite of models from the <a href="https://hydrogr.github.io/airGR/" class="external-link"><code>airGR</code></a> package using catchment, reach and lake data.</li>
<li>Conduct a sensitivity analysis on the parameters for the AEME models.</li>
<li>Calibrate the AEME models using lake observational data.</li>
</ul>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install the development version of aemetools from <a href="https://github.com/" class="external-link">GitHub</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("devtools")</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"limnotrack/aemetools"</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://limnotrack.github.io/aemetools/">aemetools</a></span><span class="op">)</span></span></code></pre></div>
<div class="section level3">
<h3 id="download-nz-point-meteorological-data">Download NZ point meteorological data<a class="anchor" aria-label="anchor" href="#download-nz-point-meteorological-data"></a>
</h3>
<p>Currently, there is ERA5-Land data (~9km grid spacing) archived for New Zealand (166.5/-46.6/178.6/-34.5) for the time period 1980-2023 with the main meteorological variables (air temperature, dewpoint temperature, wind u-vector at 10m, wind v-vector at 10m, total precipitation, snowfall, surface level pressure, downwelling shortwave radiation, downwelling longwave radiation) required to drive hydrological and hydrodynamic models. This can be easily downloaded using the example below. There is a <code>parallel</code> switch which allows you to use multiple cores on your computer to speed up the download.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">lon</span> <span class="op">&lt;-</span> <span class="fl">176.2717</span></span>
<span><span class="va">lat</span> <span class="op">&lt;-</span> <span class="op">-</span><span class="fl">38.079</span></span>
<span><span class="va">vars</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"MET_tmpair"</span>, <span class="st">"MET_pprain"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">met</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_era5_land_point_nz.html">get_era5_land_point_nz</a></span><span class="op">(</span>lat <span class="op">=</span> <span class="va">lat</span>, lon <span class="op">=</span> <span class="va">lon</span>, years <span class="op">=</span> <span class="fl">2020</span><span class="op">:</span><span class="fl">2021</span>,</span>
<span>                      vars <span class="op">=</span> <span class="va">vars</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">met</span><span class="op">)</span></span>
<span><span class="co">#&gt;       Date              MET_tmpair       MET_pprain      </span></span>
<span><span class="co">#&gt;  Min.   :2020-01-01   Min.   : 4.848   Min.   : 0.00000  </span></span>
<span><span class="co">#&gt;  1st Qu.:2020-07-01   1st Qu.: 9.699   1st Qu.: 0.08205  </span></span>
<span><span class="co">#&gt;  Median :2020-12-31   Median :12.729   Median : 0.83960  </span></span>
<span><span class="co">#&gt;  Mean   :2020-12-31   Mean   :12.845   Mean   : 5.10542  </span></span>
<span><span class="co">#&gt;  3rd Qu.:2021-07-01   3rd Qu.:15.782   3rd Qu.: 5.73165  </span></span>
<span><span class="co">#&gt;  Max.   :2021-12-31   Max.   :22.176   Max.   :53.44960</span></span></code></pre></div>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyr.tidyverse.org" class="external-link">tidyr</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">met</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/pivot_longer.html" class="external-link">pivot_longer</a></span><span class="op">(</span>cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">MET_tmpair</span>, <span class="va">MET_pprain</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">Date</span>, y <span class="op">=</span> <span class="va">value</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">geom_line</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html" class="external-link">facet_wrap</a></span><span class="op">(</span><span class="op">~</span><span class="va">name</span>, scales <span class="op">=</span> <span class="st">"free_y"</span>, ncol <span class="op">=</span> <span class="fl">1</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_bw</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-plot-era5-1.png" width="100%"></p>
</div>
<div class="section level3">
<h3 id="calibrate-aeme-model">Calibrate AEME model<a class="anchor" aria-label="anchor" href="#calibrate-aeme-model"></a>
</h3>
<p>See the vignette <a href="https://limnotrack.github.io/aemetools/articles/calibrate-aeme.html">here</a>.</p>
</div>
<div class="section level3">
<h3 id="sensitivity-analysis-for-aeme-models">Sensitivity analysis for AEME models<a class="anchor" aria-label="anchor" href="#sensitivity-analysis-for-aeme-models"></a>
</h3>
<p>See the vignette <a href="https://limnotrack.github.io/aemetools/articles/sensitivity-analysis.html">here</a>.</p>
</div>
<div class="section level3">
<h3 id="run-hydrological-models">Run hydrological models<a class="anchor" aria-label="anchor" href="#run-hydrological-models"></a>
</h3>
<p>See the vignette <a href="https://limnotrack.github.io/aemetools/articles/run-gr4j.html">here</a>.</p>
</div>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/limnotrack/aemetools/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/limnotrack/aemetools/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small>GPL (&gt;= 2)</small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing aemetools</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Tadhg Moore <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0002-3834-8868" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li>Chris McBride <br><small class="roles"> Author </small>  </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://lifecycle.r-lib.org/articles/stages.html#stable" class="external-link"><img src="https://img.shields.io/badge/lifecycle-stable-green.svg" alt="Lifecycle: stable"></a></li>
<li><a href="https://github.com/limnotrack/aemetools/actions/workflows/R-CMD-check.yaml" class="external-link"><img src="https://github.com/limnotrack/aemetools/actions/workflows/R-CMD-check.yaml/badge.svg" alt="R-CMD-check"></a></li>
<li><a href="https://app.codecov.io/gh/limnotrack/aemetools?branch=main" class="external-link"><img src="https://codecov.io/gh/limnotrack/aemetools/branch/main/graph/badge.svg" alt="Codecov test coverage"></a></li>
</ul>
</div>

<div class="table-of-contents">
<h2 data-toc-skip>Table of contents</h2>
<ul class="list-unstyled">
<li><nav id="toc"></nav></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Tadhg Moore, Chris McBride.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
